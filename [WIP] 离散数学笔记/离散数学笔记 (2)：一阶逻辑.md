# 2 一阶逻辑

命题是命题演算的基本单位，但只是一种简单的陈述，可能会无法处理一些简单又常见的推理。

如“苏格拉底三段论”：

>   凡是人都是要死的。
>
>   苏格拉底是人。
>
>   所以苏格拉底是要死的。

在命题逻辑中，只能用 p、q、r 来表示以上三个命题，推理可以写成 $p \and q \rightarrow r$。这个命题公式不是重言式，很明显和直觉上的判断是冲突的。因为在命题逻辑中，把“凡是人都是要死的”作为一个简单命题后，就失去了其内在含义，这就是命题逻辑的局限性。为了表达内在含义，需要进一步对简单命题中的元素进行区分，这就是**一阶逻辑**或**谓词逻辑**的研究内容。

### 2.1 一阶逻辑基本概念

“凡是人都是要死的”这句话可以分成“凡是”，即**所有的**；“人”，即**对象**，“是要死的”，即一种**性质**。意思是所有这种对象都有这种性质。为了形式化描述，一阶逻辑引入了**个体词**、**谓词**和**量词**。

个体词指独立存在的客体，可以是具体的事物或抽象的概念，如人、花、自然数、定理。表示具体或特定的个体词为**个体常项**，常用 $a$，$b$，$c$，… 表示；表示抽象或泛指的个体词为**个体变项**，常用 $x$，$y$，$z$，… 表示。个体变项的取值范围称为**个体域**，用 $D$ 表示，可以是有限或无限的集合。当无特殊声明时，个体域由宇宙间一切事物组成，称为**全总个体域**。

谓词表示个体词的性质或关系，如“…是无理数”、“…等于…”。表示具体性质或关系的谓词为**谓词常项**，表示抽象或泛指的谓词为**谓词变项**，两者都用 $F$，$G$，$H$，… 表示，根据上下文确定是常项还是变项。个体变项 $x$ 具有性质 $F$，记作 $F(x)$，个体变项 $x, y$ 具有关系 $L$，记作 $L(x, y)$。个体变项和谓词的联合体 $F(x), L(x, y)$ 也称作谓词，这与函数 $f(x)$ 是相同的。

谓词中包含的个体词数称为**元数**，含 $n (n \geq 1)$ 个个体词的谓词称为 $n$ 元谓词。一元谓词表示个体词性质，二元及以上的谓词表示个体词之间的关系，通常用 $P(x_1, x_2, \cdots, x_n)$ 表示 $n$ 元谓词，其以个体变项的个体域为定义域，以 $\{ 0, 1 \}$ 为值域的 $n$ 元函数，且个体变项之前的顺序不能随意更改。$n$ 元谓词通常不是命题，因为真值无法确定，必须用谓词常项代替 $P$，用 $n$ 个个体常项代替变项才能成为命题。不含个体变项的谓词称为 **0 元谓词**，如 $F(a), L(a, b)$​，简单命题都可以用 0 元谓词常项表示，因此**命题是谓词的特殊情况**，命题逻辑中的联结词在一阶逻辑中都可应用。

>   **例**
>
>   2 是素数且是偶数。
>
>   -   设 $F(x)$：x 是素数，$G(x)$：x 是偶数，$a$：2，则符号化为：$F(a) \and G(a)$。
>
>   若 2 大于 3，则 2 大于 4。
>
>   -   设 $L(x, y)$：x 大于 y，$a$：2，$b$：3，$c$：4，则符号化为：$L(a, b) \rightarrow L(a, c)$。

表示数量的词为**量词**：

-   **全称量词**：表示所有、任意、一切，用符号 $\forall$ 表示，$\forall x$ 表示对个体域所有个体，$\forall x F(x)$ 表示个体域里所有个体都具有性质 $F$
-   **存在量词**：表示存在、至少有一个，用符号 $\exist$ 表示，$\exist x$ 表示存在个体域里的个体，$\exist x F(x)$ 表示个体域里存在个体具有性质 $F$

>   **例**
>
>   1.   所有人都是要死的。
>
>   2.   有的人活百岁以上。
>
>   设个体域 $D$：人类集合，$F(x)$：x 是要死的，$G(x)$：x 活百岁以上
>
>   则 (1) 符号化为：$\forall x F(x)$，(2) 符号化为 $\exist x G(x)$
>
>   但若个体域 $D$ 为全总个体域，就不能这样符号化，否则 (1) 就表示宇宙中所有事物都是要死的，(2) 就表示宇宙中存在事物活百岁以上，都与原义不符。此时就必须引入一个新的谓词，将人分离出来，在这种情况下，可以表达为：
>
>   1.   对所有个体而言，若是人，则是要死的
>   2.   存在个体是人且活百岁以上
>
>   引入一个新的谓词 $M(x)$：x 是人，称为**特性谓词**。
>
>   则 (1) 符号化为：$\forall x (M(x) \rightarrow F(x))$，(2) 符号化为：$\exist x (M(x) \and G(x))$

在使用量词时，应注意：

1.   在不同个体域中，命题符号化形式可能不同
2.   若没有给出个体域，则默认为全总个体域
3.   引入特性谓词后，使用全称量词和存在量词的符号化形式是不同的
4.   个体域和谓词含义确定后，n 元谓词要转化为命题至少需要 n 个量词
5.   当个体域为有限集时，如 $D = \{ a_1, a_2, \cdots, a_n \}$，则对任意谓词 $A(x)$，都有
     -   $\forall x A(x) \Leftrightarrow A(a_1) \and A(a_2) \and \cdots \and A(a_n)$
     -   $\exist x A(x) \Leftrightarrow A(a_1) \or A(a_2) \or \cdots \or A(a_n)$
6.   多个量词同时出现时，不能颠倒顺序，否则含义可能完全不同

>   **例**
>
>   1.   凡偶数均能被 2 整除。
>
>   设 $F(x)$：x 是偶数，$G(x)$​：x 能被 2 整除。
>
>   则符号化为：$\forall x (F(x) \rightarrow G(x))$
>
>   2.   素数不全是奇数。
>
>   设 $F(x)$：x 是素数，$G(x)$：x 是奇数。
>
>   则符号化为：$\exist x (F(x) \and \neg G(x))$​，或 $\neg \forall x (F(x) \rightarrow G(x))$​
>
>   3.   所有人都不一样高。
>
>   设 $F(x)$：x 是人，$G(x, y)$：$x \neq y$，$L(x, y)$：x 与 y 一样高。
>
>   则符号化为：$\forall x \forall y (F(x) \and F(x) \and G(x, y) \rightarrow \neg L(x, y))$，或 $\neg \exist x \exist y (F(x) \and F(y) \and G(x, y) \and L(x, y))$
>
>   4.   每个自然数都有后继。
>
>   设 $F(x)$：x 是自然数，$G(x, y)$：y 是 x 的后继。
>
>   则符号化为：$\forall x (F(x) \rightarrow \exist y (F(y) \and G(x, y)))$

## 2.2 一阶逻辑合式公式及解释

>   **定义 2.1**
>
>   字母表：
>
>   1.   个体常项：$a, b, c, \cdots, a_i, b_i, c_i, \cdots, i \ge 1$
>   2.   个体变项：$x, y, z, \cdots, x_i, y_i, z_i, \cdots, i \ge 1$
>   3.   函数符号：$f, g, h, \cdots, f_i, g_i, h_i, \cdots, i \ge 1$
>   4.   谓词符号：$F, G, H, \cdots, F_i, G_i, H_i, \cdots, i \ge 1$
>   5.   量词符号：$\forall, \exist$
>   6.   联结词符：$\neg, \and, \or, \rightarrow, \leftrightarrow$
>   7.   括号逗号：$(,),,$

>   **定义 2.2**
>
>   **项**的递归定义：
>
>   1.   个体常项和变项是项
>   2.   若 $\phi(x_1, x_2, \cdots, x_n)$ 是任意 $n$ 元函数，$t_1, t_2, \cdots, t_n$ 是项，则 $\phi(t_1, t_2, \cdots, t_n)$ 也是项
>   3.   只有有限次地应用 (1)、(2) 生成的符号串才是项

根据定义，$a, b, x, y, f(x, y) = x + y, g(x, y) = x - y, h(x, y) = x \cdot y$ 都是项，$f(a, g(x, y)) = a + (x - y), g(h(x, y), f(a, b)) = x \cdot y - (a + b)$ 也都是项。

>   **定义 2.3**
>
>   设 $R(x_1, x_2, \cdots, x_n)$ 是任意 $n$ 元谓词，$t_1, t_2, \cdots, t_n$ 是项，则称 $R(t_1, t_2, \cdots, t_n)$ 为**原子公式**。

上面定义中的 $R, \phi$ 都不是字母表中的符号，而是分别代表任意函数和任意谓词。

>   **定义 2.4**
>
>   **合式公式**定义：
>
>   1.   原子公式是合式公式
>   2.   若 A 是合式公式，则 $\neg A$ 也是合式公式
>   3.   若 A、B 是合式公式，则 $(A \and B), (A \or B), (A \rightarrow B), (A \leftrightarrow B)$ 也是合式公式
>   4.   若 A 是合式公式，则 $\forall x A, \exist x A$ 也是合式公式
>   5.   只有有限次地应用 (1) ~ (4) 构成的符号串才是合式公式

在一阶逻辑中合式公式又称为**谓词公式**，简称**公式**，最外层的括号可以省去。

>   **定义 2.5**
>
>   在合式公式 $\forall x A$ 和 $\exist x A$ 中，称 $x$ 为**指导变量**，称 A 为相应量词的**辖域**。在辖域中，$x$ 的所有出现称为**约束出现**，A 中不是约束出现的其它变项的出现称为**自由出现**。

如 $\forall x (F(x) \rightarrow \exist y H(x, y))$，$x$ 为指导变量，$\forall$ 的辖域为 $(F(x) \rightarrow \exist y H(x, y))$，$x$ 的两次出现都是约束出现。在 $\exist y H(x, y)$ 中，$y$ 为指导变量，$\exist$ 的辖域为 $H(x, y)$，$y$ 是约束出现，其中的 $x$ 也是约束出现。

如 $\exist x F(x) \and G(x, y)$，$x$ 为指导变量，$\exist$ 的辖域为 $F(x)$，$x$ 是约束出现，$G(x, y)$ 中的 $x, y$ 都是自由出现。

>   **定义 2.6**
>
>   若公式 A 中无自由出现的个体变项，则称 A 是**封闭的合式公式**，简称**闭式**。

$\forall x (F(x) \rightarrow G(x)), \exist x \forall y (F(x) \or G(x, y))$ 都是闭式，$\forall x (F(x) \rightarrow G(x, y)), \exist z \forall y L(x, y, z)$ 都不是闭式。

>   **换名规则**
>
>   将一个指导变项及其在辖域中所有约束出现替换成公式中没有出现的变项符号。
>
>   如在 $\exist x F(x) \and G(x, y)$ 中，前 F 中的 x 和 G 中的 x 实际上不是同一个，仅仅名称相同，为了避免混淆，使用换名规则，得到 $\exist z F(z) \and G(x, y)$
