>   本系列文章使用的 Rust Edition 为 `2021`。
>
>   主要参考：
>
>   -   [Rust 程序设计语言](https://kaisery.github.io/trpl-zh-cn/)
>   -   [Rust 标准库](https://rustwiki.org/zh-CN/std/)
>   -   [Rust 参考手册](https://minstrel1977.gitee.io/rust-reference/introduction.html)

# 1 环境配置

## 安装

### Windows

前往 [官方页面](https://www.rust-lang.org/tools/install) 安装。

### Linux / macOS

```shell
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

## 构建

### Rustup

`rustup` 是管理 Rust 工具链的命令行工具。

```shell
# 查看 rustup 版本
rustup -V

# 查看工具链配置
rustup show

# 检查工具链更新
rustup check

# 更新工具链
rustup update

# 更新 rustup
rustup self update

# 卸载 rust 和 rustup
rustup self uninstall

# 查看本地文档
rustup doc

# 查看工具链相关
rustup toolchain help

# 查看工具组件相关
rustup component help

# 查看编译目标相关
rustup target help

# 设置全局默认工具链
rustup default <stable|nightly>

# 设置目录和子目录的工具链
rustup override set <stable|nightly>

# 恢复当前目录和子目录为默认工具链
rustup override unset
```

>   更多关于 rustup 的信息，可参考 [The rustup book](https://rust-lang.github.io/rustup/)。

### Rustc

`rustc` 是 Rust 的编译器。

```shell
# 查看 rust 版本
rustc -V

# 打印指定选项的编译器信息
rustc --print [cfg|calling-conventions|target-list|target-cpus|target-features]

# 编译为指定类型文件（默认为 bin）
rustc <file> --crate-type <bin|lib|rlib|dylib|cdylib|staticlib|proc-macro>

# 编译时将指定目录添加到库搜索路径
rustc <file> -L <path>

# 编译时链接到指定的库（默认库类型为 dylib）
rustc <file> -l [static|dylib=]<name>

# 编译时指定 Rust 版本（默认为最新）
rustc <file> --edition <2021|2024>

# 编译时输出中间文件
rustc <file> --emit <asm|llvm-ir|obj|mir>

# 编译时配置额外编译信息
rustc <file> --cfg <name="value">

# 编译时配置 LLVM 代码生成器选项
rustc <file> -C <opt=value>

# 编译时优化，等同于 -C opt-level=2
rustc <file> -O
```

>   更多关于 rustc 的信息，可参考 [The rustc book](https://doc.rust-lang.org/rustc/index.html)。

### Cargo

`cargo` 是 Rust 的构建系统和包管理器。

```shell
# 查看 cargo 版本
cargo -V

# 创建二进制项目（默认选项）
cargo new <name> --bin

# 创建库项目
cargo new <name> --lib

# 创建时指定版本控制系统（默认为 git）
cargo new <name> --vcs=<none|git>

# 将目录初始化为 Rust 项目
cargo init

# 查找依赖
cargo search <name>

# 添加依赖
cargo add <name>

# 删除依赖
cargo remove <name>

# 更新依赖
cargo update <name>

# 快速检查代码（不编译）
cargo check

# 以 release 模式编译（默认为 dev）
cargo build -r

# 以 release 模式编译运行（默认为 dev）
cargo run -r

# 清空 target 目录
cargo clean
```

## 属性

